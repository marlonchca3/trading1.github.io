
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Juego de Patrones de Velas</title>


<style>
  * { box-sizing: border-box; }
  body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: #ddc80b;
    margin: 0;
    padding: 10px; /* Padding para m√≥viles */
    display: flex;
    justify-content: center;
  }
  .container {
    width: 100%;
    max-width: 600px; /* Tama√±o m√°ximo para escritorio */
    background: #2a00e7;
    padding: 10px;
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(12, 212, 136, 0.603);
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  img {
    width: 100%;
    height: auto; /* Mantiene la proporci√≥n */
    max-height: 250px;
    object-fit: contain; /* Evita que la imagen se deforme */
    border-radius: 10px;
    margin: 15px 0;
    background: #d61313; /* Fondo blanco para las velas si la imagen es transparente */
  }
  button {
    width: 100%; /* Botones ocupan todo el ancho en m√≥viles */
    padding: 5px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: #2563eb;
    color: white;
    font-size: 18px;
    transition: background 0.2s;
  }
  button:active { transform: scale(0.98); }
  .opciones-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin: 20px 0;
  }
  h1 { font-size: 1.5rem; }
  #timer { font-size: 20px; color: #fbbf24; }
</style>


</head>

<body>
<div class="container">
  <h1>üéØ Juego de Patrones de Velas</h1>
  <p>Puntaje: <span id="score">0</span> / 50 | Pregunta: <span id="preguntaActual">1</span> / 100</p>

  <div id="timer">Tiempo: 15s</div>

  <img id="imagen" src="" alt="patr√≥n" style="max-height: 300px;">

  <div id="pregunta"></div>

  <div id="opciones" class="opciones-container"></div>

  <p id="resultado"></p>
  
  <div id="reinicioContainer" style="display: none;">
    <button id="reiniciarBtn" onclick="reiniciarJuego()" style="background: #10b981; font-size: 18px; padding: 12px 20px; margin-top: 20px;">üîÑ Reiniciar Juego</button>
  </div>
</div>


<div id="animacionVictoria" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:999; text-align:center; padding-top:20%;">
    <h1 style="color:#fbbf24; font-size: 50px;">üéâ ¬°FELICITACIONES! üéâ</h1>
    <p style="font-size: 30px;">¬°Has alcanzado los 5 puntos!</p>
    <img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ2VudWF6a2V1MjlxeWl0Ynd2Z3d0YW8yejZ0ajJvbjh6cWk3bW04cCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/PZWaW6S6waf2kiv4hI/giphy.gif" alt="Cohetes">
</div>

<script>
const patrones = [
  
  {
    img: "fotos/1.jpg",
    pregunta: "¬øQu√© patr√≥n es el 1 ?",
    correcto: "Tijeras superiores",
    opciones: ["Cielo negro cubierto", "Hombre colgado", "Tijeras superiores"]
  },

  {
    img: "fotos/2.jpg",
    pregunta: "¬øQu√© patron es el 1 ?",
    correcto: "Tijeras superiores",
    opciones: ["Cielo negro cubierto", "Tijeras superiores", "Tri√°ngulo"]
  },

  {
    img: "fotos/3.jpg",
    pregunta: "¬øQu√© patr√≥n es el 1 ?",
    correcto: "Tijeras superiores",
    opciones: ["Tijeras superiores", "Doble Techo", "Envolvente alcista"]
  },

  {
    img: "fotos/4.jpg",
    pregunta: "¬øQu√© patr√≥n es el 1?",
    correcto: "Lineas de cinturon bajista",
    opciones: ["Cielo negro cubierto", "Envolvente alcista", "Lineas de cinturon bajista"]
  },

  {
    img: "fotos/5.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 1 ?",
    correcto: "Lineas de cinturon alcista",
    opciones: ["Cielo negro cubierto", "Lineas de cinturon alcista", "Envolventes bajistas"]
  },

  {
    img: "fotos/6.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 1 ?",
    correcto: "Brecha al alza dos cuervos",
    opciones: ["Cielo negro cubierto", "Lineas de cinturon alcista", "Brecha al alza dos cuervos"]
  },

  {
    img: "fotos/7.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 1 ?",
    correcto: "Brecha al alza dos cuervos",
    opciones: ["Cielo negro cubierto", "Brecha al alza dos cuervos", "Envolventes bajistas"]
  },

  {
    img: "fotos/8.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 1 ?",
    correcto: "Tres cuervos",
    opciones: ["Tres cuervos", "Lineas de cinturon alcista", "Envolventes bajistas"]
  },

  {
    img: "fotos/9.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 1 ?",
    correcto: "Tres soldados blancos",
    opciones: ["Cielo negro cubierto", "Lineas de cinturon alcista", "Tres soldados blancos"]
  },

  {
    img: "fotos/10.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 1 ?",
    correcto: "Tres soldados blancos",
    opciones: ["Cielo negro cubierto", "Tres soldados blancos", "Envolventes bajistas"]
  },

  {
    img: "fotos/11.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 1 ?",
    correcto: "Tres soldados blancos",
    opciones: ["Tres soldados blancos", "Lineas de cinturon alcista", "Envolventes bajistas"]
  },

  {
    img: "fotos/12.jpg",
    pregunta: "¬øQu√© patr√≥nes es el 3 ?",
    correcto: "Bloque de avance",
    opciones: ["Cielo negro cubierto", "Lineas de cinturon alcista", "Bloque de avance"]
  },

  {
    img: "fotos/13.jpg",
    pregunta: "¬øQu√© patr√≥nes es?",
    correcto: "Tres cimas de monta√±as",
    opciones: ["Cielo negro cubierto", "Tres cimas de monta√±as", "Envolventes bajistas"]
  },

  {
    img: "fotos/14.jpg",
    pregunta: "¬øQu√© patr√≥nes es?",
    correcto: "Tres cimas de monta√±as",
    opciones: ["Tres cimas de monta√±as", "Lineas de cinturon alcista", "Envolventes bajistas"]
  },

  {
    img: "fotos/15.jpg",
    pregunta: "¬øQu√© patr√≥nes es?",
    correcto: "Tres budas superiores",
    opciones: ["Cielo negro cubierto", "Lineas de cinturon alcista", "Tres budas superiores"]
  },

  
];

let indice = 0;
let score = 0;
let preguntasHechas = 0;
let tiempoRestante = 0;
let timerInterval = null;
let patronActual = null;

function obtenerPatronAleatorio() {
  return patrones[Math.floor(Math.random() * patrones.length)];
}

function iniciarTemporizador() {
  tiempoRestante = 15;
  actualizarTemporizador();
  
  timerInterval = setInterval(() => {
    tiempoRestante--;
    actualizarTemporizador();
    
    if (tiempoRestante <= 0) {
      clearInterval(timerInterval);
      document.getElementById("resultado").textContent = "‚è∞ Tiempo agotado. Era: " + patronActual.correcto;
      deshabilitarBotones();
      preguntasHechas++;
      
      if (preguntasHechas < 100) {
        setTimeout(cargarPatron, 2000);
      } else {
        mostrarFinal();
      }
    }
  }, 1500);
}

function actualizarTemporizador() {
  document.getElementById("timer").textContent = `Tiempo: ${tiempoRestante}s`;
  if (tiempoRestante <= 3) {
    document.getElementById("timer").style.color = "#ef4444";
  } else {
    document.getElementById("timer").style.color = "#fbbf24";
  }
}

function deshabilitarBotones() {
  const botones = document.querySelectorAll(".opciones-container button");
  botones.forEach(btn => btn.disabled = true);
}

function cargarPatron() {
  clearInterval(timerInterval);
  
  const p = obtenerPatronAleatorio();
  patronActual = p;
  document.getElementById("imagen").src = p.img;
  document.getElementById("pregunta").textContent = p.pregunta;
  document.getElementById("preguntaActual").textContent = preguntasHechas + 1;
  const opcionesDiv = document.getElementById("opciones");
  opcionesDiv.innerHTML = "";
  document.getElementById("resultado").textContent = "";

  p.opciones.forEach(op => {
    const btn = document.createElement("button");
    btn.textContent = op;
    btn.onclick = () => verificar(op);
    btn.disabled = false;
    opcionesDiv.appendChild(btn);
  });
  
  iniciarTemporizador();
}

function verificar(respuesta) {
  clearInterval(timerInterval);
  deshabilitarBotones();
  
  const resultado = document.getElementById("resultado");

  if (respuesta === patronActual.correcto) {
    resultado.textContent = "‚úÖ Correcto!";
    score++;
    document.getElementById("score").textContent = score;


    // --- NUEVA L√ìGICA DE VICTORIA ---
    if (score === 50) {
      mostrarVictoria();
      return; // Salimos para no seguir con la siguiente pregunta
    }


  } else {
    resultado.textContent = "‚ùå Incorrecto. Era: " + patronActual.correcto;
  }

  preguntasHechas++;
  
  if (preguntasHechas < 100) {
    setTimeout(cargarPatron, 2000);
  } else {
    mostrarFinal();
  }
}


function mostrarVictoria() {
  const anim = document.getElementById("animacionVictoria");
  anim.style.display = "block";
  
  // Esperar 6 segundos y reiniciar
  setTimeout(() => {
    anim.style.display = "none";
    reiniciarJuego();
  }, 6000);
}

function mostrarFinal() {
  setTimeout(() => {
    document.getElementById("resultado").textContent = `üéâ ¬°Juego terminado! Puntaje final: ${score}/100`;
    document.getElementById("reinicioContainer").style.display = "block";
    document.getElementById("imagen").style.display = "none";
    document.getElementById("pregunta").style.display = "none";
    document.getElementById("opciones").style.display = "none";
    document.getElementById("timer").style.display = "none";
  }, 500);
}

function reiniciarJuego() {
  indice = 0;
  score = 0;
  preguntasHechas = 0;
  tiempoRestante = 0;
  clearInterval(timerInterval);
  
  document.getElementById("score").textContent = "0";
  document.getElementById("preguntaActual").textContent = "1";
  document.getElementById("resultado").textContent = "";
  document.getElementById("imagen").style.display = "block";
  document.getElementById("pregunta").style.display = "block";
  document.getElementById("opciones").style.display = "flex";
  document.getElementById("timer").style.display = "block";
  document.getElementById("reinicioContainer").style.display = "none";
  
  cargarPatron();
}

cargarPatron();
</script>
</body>
</html>